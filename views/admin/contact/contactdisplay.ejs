<%- include('../../header.ejs') %>

<div class="container-fluid mt-5 pt-4">
  <div class="row">

    <!-- LEFT SIDEBAR -->
    <div class="col-md-3">
      <%- include('../../partials/sidebar') %>
    </div>

    <!-- RIGHT CONTENT -->
    <div class="col-md-9">

      <div class="card shadow-sm border-0">
        <div class="card-header bg-dark text-white">
          <h5 class="mb-0">Contact Messages</h5>
        </div>

        <div class="card-body p-0">

          <table class="table table-bordered table-hover mb-0 align-middle">
            <thead class="table-light">
              <tr>
                <th width="60">#</th>
                <th>Name</th>
                <th>Email</th>
                <th>Phone</th>
                <th>Message</th>
              </tr>
            </thead>

            <tbody>
              <% if (cd.length === 0) { %>
                <tr>
                  <td colspan="5" class="text-center text-muted py-4">
                    No contact messages found
                  </td>
                </tr>
              <% } %>

              <% let i = 1; %>
              <% cd.forEach((c) => { %>
                <tr>
                  <td><%= i++ %></td>
                  <td><%= c.name %></td>
                  <td><%= c.email %></td>
                  <td><%= c.phone %></td>
                  <td style="max-width:350px;white-space:normal">
                    <%= c.message %>
                  </td>
                </tr>
              <% }) %>
            </tbody>
          </table>

        </div>
      </div>

    </div>
  </div>
</div>

<%- include('../../footer.ejs') %>
